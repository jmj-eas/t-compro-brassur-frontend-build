"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6115],{6115:(M,g,l)=>{l.r(g),l.d(g,{PasswordPageModule:()=>b});var m=l(177),r=l(9417),u=l(1050),t=l(7343),p=l(467),e=l(4438),h=l(5161),f=l(2464),v=l(1527);function P(s,w){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"h1",6),e.EFF(2,"Establecer Contrase\xf1a"),e.k0s(),e.j41(3,"ion-item",7)(4,"ion-text")(5,"p"),e.EFF(6,"Te enviaremos instrucciones a tu correo electr\xf3nico para establecer una nueva contrase\xf1a."),e.k0s()()(),e.j41(7,"ion-item",7)(8,"ion-input",8),e.mxI("ngModelChange",function(o){e.eBV(n);const a=e.XpG();return e.DH7(a.email,o)||(a.email=o),e.Njj(o)}),e.k0s()(),e.j41(9,"ion-button",9),e.EFF(10,"Enviar "),e.k0s()()}if(2&s){const n=e.XpG(),i=e.sdS(2);e.R7$(8),e.R50("ngModel",n.email),e.R7$(),e.Y8G("disabled",i.invalid)}}function j(s,w){1&s&&(e.j41(0,"div")(1,"ion-item",7),e.nrm(2,"ion-icon",10),e.j41(3,"ion-text")(4,"h1"),e.EFF(5,"Solicitud enviada"),e.k0s()()(),e.j41(6,"ion-item",7)(7,"ion-text")(8,"p"),e.EFF(9,"Se envi\xf3 un mensaje a la direcci\xf3n de correo electr\xf3nico de tu cuenta. Compruebe tu correo para continuar."),e.k0s(),e.j41(10,"p")(11,"ion-text",11),e.EFF(12,"Cerrar."),e.k0s()()()()())}const F=["myForm"];function _(s,w){if(1&s&&(e.j41(0,"ion-item",6)(1,"ion-text",12),e.EFF(2),e.k0s()()),2&s){const n=e.XpG();e.R7$(2),e.JRh(n.validationMessage)}}const C=[{path:"new",component:(()=>{class s{constructor(n,i,o){this.loaderSvc=n,this.authSvc=i,this.alertSvc=o,this.finish=!1}ngOnInit(){}send(){var n=this;return(0,p.A)(function*(){yield n.loaderSvc.show("Enviando"),n.authSvc.passwordNew(n.email).subscribe(i=>{n.loaderSvc.stop(),1!==i.rtc?n.alertSvc.error(i.msg):n.finish=!0},i=>{n.loaderSvc.stop(),n.alertSvc.error(i.error.data.msg)})})()}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(h.Z),e.rXU(f.u),e.rXU(v.u))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-new-password"]],decls:11,vars:2,consts:[["passForm","ngForm"],["action","",1,"tai-form",3,"ngSubmit"],["no-padding",""],[1,"ion-justify-content-center"],["size","12","sizeMd","6",1,"ion-align-self-center"],[4,"ngIf"],["text-uppercase","",1,"page-header"],["lines","none"],["type","email","name","email","required","","placeholder","Email","pattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"tai-input",3,"ngModelChange","ngModel"],["margin-top","","expand","block","type","submit",3,"disabled"],["name","checkmark","slot","end"],["color","secondary","routerLink","/login"]],template:function(i,o){if(1&i){const a=e.RV6();e.j41(0,"ion-content")(1,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.send())}),e.j41(3,"ion-grid",2)(4,"ion-row",3)(5,"ion-col",4)(6,"ion-card")(7,"ion-card-content")(8,"ion-list"),e.DNE(9,P,11,2,"div",5)(10,j,13,0,"div",5),e.k0s()()()()()()()()}2&i&&(e.R7$(9),e.Y8G("ngIf",!o.finish),e.R7$(),e.Y8G("ngIf",o.finish))},dependencies:[m.bT,r.qT,r.BC,r.cb,r.YS,r.R_,r.vS,r.cV,t.Jm,t.b_,t.I9,t.hU,t.W9,t.lO,t.iq,t.$w,t.uz,t.nf,t.ln,t.IO,t.Gw,t.N7,u.Wk]})}}return s})()},{path:"set/:token",component:(()=>{class s{constructor(n,i,o,a,d){this.route=n,this.authSvc=i,this.loaderSvc=o,this.alertSvc=a,this.router=d,this.valid=!1,this.inputType="password",this.validationMessage=""}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}setPassword(){var n=this;return(0,p.A)(function*(){yield n.loaderSvc.show("Procesando"),n.authSvc.passwordSet({codigo_activacion:n.token,nuevo_pass:n.password}).subscribe(i=>{if(n.loaderSvc.stop(),1===i.rtc)return n.alertSvc.success("Contrase\xf1a establecida"),void n.router.navigate(["login"]);n.alertSvc.error(i.msg)},i=>{n.loaderSvc.stop(),n.alertSvc.error("Ocurrio un Error!")})})()}validate(){if(this.validationMessage="",""!==this.password&&""!==this.confirmPass)return this.password!==this.confirmPass?(this.valid=!1,void(this.validationMessage="Las contrase\xf1as no coinciden")):this.form.controls.password.invalid||this.form.controls.confirm_password.invalid?(this.valid=!1,void(this.validationMessage="Longitud minima de 8 caracteres")):void(this.valid=!0);this.valid=!1}togglePass(n){this.inputType=n.detail.checked?"text":"password"}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.nX),e.rXU(f.u),e.rXU(h.Z),e.rXU(v.u),e.rXU(u.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-set-password"]],viewQuery:function(i,o){if(1&i&&e.GBs(F,7),2&i){let a;e.mGM(a=e.lsd())&&(o.form=a.first)}},decls:23,vars:6,consts:[["myForm","ngForm"],["action","",1,"tai-form",3,"ngSubmit"],["no-padding",""],[1,"ion-justify-content-center"],["size","12","sizeMd","6",1,"ion-align-self-center"],["text-uppercase","",1,"ion-text-center"],["lines","none"],["name","password","required","","minlength","8","placeholder","Nueva Contrase\xf1a",1,"tai-input",3,"ngModelChange","ionChange","type","ngModel"],["name","confirm_password","required","","minlength","8","placeholder","Confirmar Contrase\xf1a",1,"tai-input",3,"ngModelChange","ionChange","type","ngModel"],["lines","none",4,"ngIf"],["slot","end","name","verPass",3,"ionChange"],["margin-top","","expand","block","type","submit",3,"disabled"],["color","danger"]],template:function(i,o){if(1&i){const a=e.RV6();e.j41(0,"ion-content")(1,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.setPassword())}),e.j41(3,"ion-grid",2)(4,"ion-row",3)(5,"ion-col",4)(6,"ion-card")(7,"ion-card-content")(8,"ion-list")(9,"h1",5),e.EFF(10,"Establecer Contrase\xf1a"),e.k0s(),e.j41(11,"ion-item",6)(12,"ion-input",7),e.mxI("ngModelChange",function(c){return e.eBV(a),e.DH7(o.password,c)||(o.password=c),e.Njj(c)}),e.bIt("ionChange",function(){return e.eBV(a),e.Njj(o.validate())}),e.k0s()(),e.j41(13,"ion-item",6)(14,"ion-input",8),e.mxI("ngModelChange",function(c){return e.eBV(a),e.DH7(o.confirmPass,c)||(o.confirmPass=c),e.Njj(c)}),e.bIt("ionChange",function(){return e.eBV(a),e.Njj(o.validate())}),e.k0s()()(),e.j41(15,"ion-list"),e.DNE(16,_,3,1,"ion-item",9),e.j41(17,"ion-item",6)(18,"ion-label"),e.EFF(19,"Mostrar contrase\xf1a"),e.k0s(),e.j41(20,"ion-toggle",10),e.bIt("ionChange",function(c){return e.eBV(a),e.Njj(o.togglePass(c))}),e.k0s()(),e.j41(21,"ion-button",11),e.EFF(22," Enviar "),e.k0s()()()()()()()()()}2&i&&(e.R7$(12),e.Y8G("type",o.inputType),e.R50("ngModel",o.password),e.R7$(2),e.Y8G("type",o.inputType),e.R50("ngModel",o.confirmPass),e.R7$(2),e.Y8G("ngIf",o.validationMessage),e.R7$(5),e.Y8G("disabled",!o.valid))},dependencies:[m.bT,r.qT,r.BC,r.cb,r.YS,r.xh,r.vS,r.cV,t.Jm,t.b_,t.I9,t.hU,t.W9,t.lO,t.$w,t.uz,t.he,t.nf,t.ln,t.IO,t.BY,t.hB,t.Gw]})}}return s})()}];let b=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[m.MD,r.YN,t.bv,u.iI.forChild(C)]})}}return s})()}}]);