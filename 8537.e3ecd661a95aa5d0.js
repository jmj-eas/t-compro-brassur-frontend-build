"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8537],{385:(I,h,i)=>{i.d(h,{l:()=>y});var f=i(5312),o=i(4438),C=i(2767),t=i(7343),_=i(177);const n=[[["","left",""]],[["","right",""]],"*"],M=["[left]","[right]","*"];function j(l,g){1&l&&o.nrm(0,"ion-back-button",10)}function v(l,g){1&l&&o.nrm(0,"ion-menu-button",11)}function b(l,g){if(1&l){const m=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(m);const a=o.XpG();return o.Njj(a.close())}),o.nrm(1,"ion-icon",13),o.k0s()}}function P(l,g){if(1&l&&(o.j41(0,"p"),o.EFF(1),o.k0s()),2&l){const m=o.XpG();o.R7$(),o.JRh(m.apiUrl)}}function T(l,g){1&l&&(o.j41(0,"ion-item",14)(1,"ion-label",15),o.EFF(2,"Off-Line"),o.k0s()())}let y=(()=>{class l{constructor(m,p){this.jmjModoConexionService=m,this.modalCtrl=p,this.menuType="back",this.apiUrl="",this.modo="prod"}ngOnInit(){this.apiUrl=f.c.apiUrl,this.modo=this.apiUrl.slice(-4)}close(){this.modalCtrl.dismiss(null)}static{this.\u0275fac=function(p){return new(p||l)(o.rXU(C.B),o.rXU(t.W3))}}static{this.\u0275cmp=o.VBU({type:l,selectors:[["app-header"]],inputs:{title:"title",menuType:"menuType"},ngContentSelectors:M,decls:14,vars:6,consts:[["no-border","","translucent",""],["color","success"],["slot","start"],["defaultHref","/",4,"ngIf"],["menu","appMenu",4,"ngIf"],[3,"click",4,"ngIf"],[1,"titulo"],[4,"ngIf"],["slot","end",1,"right-buttons"],["color","success","lines","none",4,"ngIf"],["defaultHref","/"],["menu","appMenu"],[3,"click"],["name","close","slot","icon-only"],["color","success","lines","none"],["color","danger"]],template:function(p,a){1&p&&(o.NAR(n),o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o.DNE(3,j,1,0,"ion-back-button",3)(4,v,1,0,"ion-menu-button",4)(5,b,2,0,"ion-button",5),o.SdG(6),o.k0s(),o.j41(7,"ion-title",6),o.EFF(8),o.k0s(),o.DNE(9,P,2,1,"p",7),o.j41(10,"ion-buttons",8),o.DNE(11,T,3,0,"ion-item",9),o.SdG(12,1),o.k0s()(),o.SdG(13,2),o.k0s()),2&p&&(o.R7$(3),o.Y8G("ngIf","back"===a.menuType),o.R7$(),o.Y8G("ngIf","menu"===a.menuType),o.R7$(),o.Y8G("ngIf","modal"===a.menuType),o.R7$(3),o.JRh(a.title),o.R7$(),o.Y8G("ngIf","test"===a.modo),o.R7$(2),o.Y8G("ngIf",a.jmjModoConexionService.getModoOffLine()))},dependencies:[_.bT,t.Jm,t.QW,t.eU,t.iq,t.uz,t.he,t.MC,t.BC,t.ai,t.el],styles:[".titulo[_ngcontent-%COMP%]{color:#fff}ion-icon[_ngcontent-%COMP%]{color:#fff}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .ion-color[_ngcontent-%COMP%]   .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .ion-color[_ngcontent-%COMP%]   .sc-ion-buttons-md-h.sc-ion-buttons-md-s[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{color:#fff}"]})}}return l})()},8537:(I,h,i)=>{i.r(h),i.d(h,{AccountPageModule:()=>p});var f=i(177),o=i(9417),C=i(1050),t=i(7343),_=i(467),n=i(4438),M=i(2464),j=i(5161),v=i(2130),b=i(1527),P=i(5032),T=i(385);function y(a,F){if(1&a&&(n.j41(0,"ion-item",7)(1,"ion-label",17),n.EFF(2),n.k0s()()),2&a){const s=n.XpG();n.R7$(2),n.SpI(" ",s.message," ")}}let l=(()=>{class a{constructor(s,d,e,c,u){this.authSvc=s,this.loaderSvc=d,this.apiSvc=e,this.alertSvc=c,this.navCtrl=u,this.user={},this.password={current:"",new:"",confirm:""},this.message=null,this.customInvalid=!0,this.isPasswordType=!0}ngOnInit(){var s=this;return(0,_.A)(function*(){s.user=s.authSvc.getUserInfo()})()}toggle(s){this[s]="password"===this[s]?"text":"password"}validate(){if(this.message=null,this.password.new!==this.password.confirm)return this.message="Las contrase\xf1as no coinciden",void(this.customInvalid=!0);this.customInvalid=!(this.password.current&&this.password.new&&this.password.confirm)}save(){var s=this;return(0,_.A)(function*(){const d={usuario:s.user.usuario,nuevaCont:s.password.new};s.loaderSvc.show(),s.apiSvc.post("/usuarios/cambiarCont",d).subscribe(e=>{s.loaderSvc.stop(),200===e.statusCode?(s.alertSvc.success(e.message),s.navCtrl.pop()):s.alertSvc.error("Error al actualizar la contrase\xf1a")},()=>s.alertSvc.error("Error al actualizar la contrase\xf1a"))})()}static{this.\u0275fac=function(d){return new(d||a)(n.rXU(M.u),n.rXU(j.Z),n.rXU(v.G),n.rXU(b.u),n.rXU(P.q9))}}static{this.\u0275cmp=n.VBU({type:a,selectors:[["app-account"]],decls:35,vars:11,consts:[["userForm","ngForm"],["title","Mi cuenta"],[1,"ion-padding"],[1,"tai-form",3,"ngSubmit"],[1,"ion-justify-content-center"],["sizeMd","6","sizeXs","12"],["mode","md",1,"tai-item-divider"],["lines","none"],["position","stacked"],["name","nomUsuario","type","text","disabled","",1,"tai-input","tai-readonly",3,"ngModelChange","ngModel"],["name","email","type","text","disabled","",1,"tai-input","tai-readonly",3,"ngModelChange","ngModel"],["slot","end",3,"click","name"],["name","currentPass","placeholder","Contrase\xf1a Actual",1,"tai-input",3,"ionChange","ngModelChange","type","ngModel"],["name","newPass","placeholder","Nueva Contrase\xf1a",1,"tai-input",3,"ionChange","ngModelChange","type","ngModel"],["name","passRepeat","placeholder","Confirmar Contrase\xf1a",1,"tai-input",3,"ionChange","ngModelChange","type","ngModel"],["lines","none",4,"ngIf"],["type","submit","margin-top","","expand","block","color","secondary",3,"disabled"],["color","danger"]],template:function(d,e){if(1&d){const c=n.RV6();n.nrm(0,"app-header",1),n.j41(1,"ion-content",2)(2,"form",3,0),n.bIt("ngSubmit",function(){return n.eBV(c),n.Njj(e.save())}),n.j41(4,"ion-grid")(5,"ion-row",4)(6,"ion-col",5)(7,"ion-list")(8,"ion-item-divider",6)(9,"ion-label"),n.EFF(10,"Datos del Usuario"),n.k0s()(),n.j41(11,"ion-item",7)(12,"ion-label",8),n.EFF(13,"Nombre"),n.k0s(),n.j41(14,"ion-input",9),n.mxI("ngModelChange",function(r){return n.eBV(c),n.DH7(e.user.nombre,r)||(e.user.nombre=r),n.Njj(r)}),n.k0s()(),n.j41(15,"ion-item",7)(16,"ion-label",8),n.EFF(17,"Email"),n.k0s(),n.j41(18,"ion-input",10),n.mxI("ngModelChange",function(r){return n.eBV(c),n.DH7(e.user.email,r)||(e.user.email=r),n.Njj(r)}),n.k0s()(),n.j41(19,"ion-item-divider",6)(20,"ion-label"),n.EFF(21,"Cambiar Contrase\xf1a"),n.k0s()(),n.j41(22,"ion-item",7)(23,"ion-label"),n.EFF(24,"Mostrar contrase\xf1a"),n.k0s(),n.j41(25,"ion-icon",11),n.bIt("click",function(){return n.eBV(c),n.Njj(e.isPasswordType=!e.isPasswordType)}),n.k0s()(),n.j41(26,"ion-item",7)(27,"ion-input",12),n.bIt("ionChange",function(){return n.eBV(c),n.Njj(e.validate())}),n.mxI("ngModelChange",function(r){return n.eBV(c),n.DH7(e.password.current,r)||(e.password.current=r),n.Njj(r)}),n.k0s()(),n.j41(28,"ion-item",7)(29,"ion-input",13),n.bIt("ionChange",function(){return n.eBV(c),n.Njj(e.validate())}),n.mxI("ngModelChange",function(r){return n.eBV(c),n.DH7(e.password.new,r)||(e.password.new=r),n.Njj(r)}),n.k0s()(),n.j41(30,"ion-item",7)(31,"ion-input",14),n.bIt("ionChange",function(){return n.eBV(c),n.Njj(e.validate())}),n.mxI("ngModelChange",function(r){return n.eBV(c),n.DH7(e.password.confirm,r)||(e.password.confirm=r),n.Njj(r)}),n.k0s()(),n.DNE(32,y,3,1,"ion-item",15),n.k0s(),n.j41(33,"ion-button",16),n.EFF(34," Guardar "),n.k0s()()()()()()}if(2&d){const c=n.sdS(3);n.R7$(14),n.R50("ngModel",e.user.nombre),n.R7$(4),n.R50("ngModel",e.user.email),n.R7$(7),n.FS9("name",e.isPasswordType?"eye-off":"eye"),n.R7$(2),n.FS9("type",e.isPasswordType?"password":"text"),n.R50("ngModel",e.password.current),n.R7$(2),n.FS9("type",e.isPasswordType?"password":"text"),n.R50("ngModel",e.password.new),n.R7$(2),n.FS9("type",e.isPasswordType?"password":"text"),n.R50("ngModel",e.password.confirm),n.R7$(),n.Y8G("ngIf",e.message),n.R7$(),n.Y8G("disabled",c.invalid||e.customInvalid)}},dependencies:[f.bT,o.qT,o.BC,o.cb,o.vS,o.cV,t.Jm,t.hU,t.W9,t.lO,t.iq,t.$w,t.uz,t.Dg,t.he,t.nf,t.ln,t.Gw,T.l]})}}return a})();var g=i(9244);const m=[{path:"",component:l}];let p=(()=>{class a{static{this.\u0275fac=function(d){return new(d||a)}}static{this.\u0275mod=n.$C({type:a})}static{this.\u0275inj=n.G2t({imports:[f.MD,o.YN,t.bv,C.iI.forChild(m),g.Q]})}}return a})()}}]);